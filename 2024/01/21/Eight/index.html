<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="正则表达式匹配困难相关标签相关企业给你一个字符串 s 和一个字符规律 p，请你来实现一个支持 ‘.’ 和 ‘*’ 的正则表达式匹配。  ‘.’ 匹配任意单个字符‘*’ 匹配零个或多个前面的那一个元素所谓匹配，是要涵盖 整个 字符串 s的，而不是部分字符串。  示例 1： 输入：s &#x3D; “aa”, p &#x3D; “a”输出：false解释：”a” 无法匹配 “aa” 整个字符串。示例">
<meta property="og:type" content="article">
<meta property="og:title" content="Eight">
<meta property="og:url" content="http://example.com/2024/01/21/Eight/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="正则表达式匹配困难相关标签相关企业给你一个字符串 s 和一个字符规律 p，请你来实现一个支持 ‘.’ 和 ‘*’ 的正则表达式匹配。  ‘.’ 匹配任意单个字符‘*’ 匹配零个或多个前面的那一个元素所谓匹配，是要涵盖 整个 字符串 s的，而不是部分字符串。  示例 1： 输入：s &#x3D; “aa”, p &#x3D; “a”输出：false解释：”a” 无法匹配 “aa” 整个字符串。示例">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-01-21T00:21:19.000Z">
<meta property="article:modified_time" content="2024-01-21T12:19:02.579Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Eight</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2024/03/30/nine/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2024/01/20/Seven/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/01/21/Eight/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/01/21/Eight/&text=Eight"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/01/21/Eight/&is_video=false&description=Eight"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Eight&body=Check out this article: http://example.com/2024/01/21/Eight/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/01/21/Eight/&name=Eight&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/01/21/Eight/&t=Eight"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Eight
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-01-21T00:21:19.000Z" class="dt-published" itemprop="datePublished">2024-01-21</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <ol start="10">
<li>正则表达式匹配<br>困难<br>相关标签<br>相关企业<br>给你一个字符串 s 和一个字符规律 p，请你来实现一个支持 ‘.’ 和 ‘*’ 的正则表达式匹配。</li>
</ol>
<p>‘.’ 匹配任意单个字符<br>‘*’ 匹配零个或多个前面的那一个元素<br>所谓匹配，是要涵盖 整个 字符串 s的，而不是部分字符串。</p>
<p> <br>示例 1：</p>
<p>输入：s &#x3D; “aa”, p &#x3D; “a”<br>输出：false<br>解释：”a” 无法匹配 “aa” 整个字符串。<br>示例 2:</p>
<p>输入：s &#x3D; “aa”, p &#x3D; “a*”<br>输出：true<br>解释：因为 ‘*’ 代表可以匹配零个或多个前面的那一个元素, 在这里前面的元素就是 ‘a’。因此，字符串 “aa” 可被视为 ‘a’ 重复了一次。<br>示例 3：</p>
<p>输入：s &#x3D; “ab”, p &#x3D; “.<em>“<br>输出：true<br>解释：”.</em>“ 表示可匹配零个或多个（’*’）任意字符（’.’）。
 </p>
<p>提示：</p>
<p>1 &lt;&#x3D; s.length &lt;&#x3D; 20<br>1 &lt;&#x3D; p.length &lt;&#x3D; 20<br>s 只包含从 a-z 的小写字母。<br>p 只包含从 a-z 的小写字母，以及字符 . 和 *。<br>保证每次出现字符 * 时，前面都匹配到有效的字符</p>
<p>解题思路：<br>从左往右扫的话<br>字符后面是否跟着星号会影响结果，分析起来有点复杂。</p>
<p>选择从右往左扫描<br>星号的前面肯定有一个字符，星号也只影响这一个字符，它就像一个拷贝器。</p>
<p>s、p 串是否匹配，取决于：最右端是否匹配、剩余的子串是否匹配。<br>只是最右端可能是特殊符号，需要分情况讨论而已。<br>通用地表示出子问题<br>大子串是否匹配，和剩余子串是否匹配，是规模不一样的同一问题。</p>
<p>情况1：s[i−1]s[i-1]s[i−1] 和 p[j−1]p[j-1]p[j−1] 是匹配的<br>最右端的字符是匹配的，那么，大问题的答案 &#x3D; 剩余子串是否匹配。</p>
<p>情况2：s[i−1]s[i-1]s[i−1] 和 p[j−1]p[j-1]p[j−1] 是不匹配的<br>右端不匹配，还不能判死刑——可能是 p[j−1]p[j-1]p[j−1] 为星号造成的不匹配，星号不是真实字符，它不匹配不算数。<br>如果 p[j−1]p[j-1]p[j−1] 不是星号，那就真的不匹配了。</p>
<p>p[j−1]&#x3D;&#x3D;”∗”p[j-1]&#x3D;&#x3D;”*”p[j−1]&#x3D;&#x3D;”∗”，且 s[i−1]s[i-1]s[i−1] 和 p[j−2]p[j-2]p[j−2] 匹配<br>p[j−1]p[j-1]p[j−1] 是星号，并且 s[i−1]s[i-1]s[i−1] 和 p[j−2]p[j-2]p[j−2] 匹配，要考虑三种情况：<br>p[j−1]p[j-1]p[j−1] 星号可以让 p[j−2]p[j-2]p[j−2] 在 p 串中消失、出现 1 次、出现 &gt;&#x3D;2 次。<br>只要其中一种使得剩余子串能匹配，那就能匹配，见下图 a1、a2、a3。</p>
<p>a3 情况：假设 s 的右端是一个 a，p 的右端是 a * ，* 让 a 重复 &gt;&#x3D; 2 次<br>星号不是真实字符，s、p是否匹配，要看 s 去掉末尾的 a，p 去掉末尾一个 a，剩下的是否匹配。<br>星号拷贝了 &gt;&#x3D;2 个 a，拿掉一个，剩下 &gt;&#x3D;1 个a，p 末端依旧是 a* 没变。<br>s 末尾的 a 被抵消了，继续考察 s(0,i-2) 和 p(0,i-1) 是否匹配。<br>p[j−1]&#x3D;&#x3D;”∗”p[j-1]&#x3D;&#x3D;”*”p[j−1]&#x3D;&#x3D;”∗”，但 s[i−1]s[i-1]s[i−1] 和 p[j−2]p[j-2]p[j−2] 不匹配<br>s[i−1]s[i-1]s[i−1] 和 p[j−2]p[j−2]p[j−2] 不匹配，还有救，p[j−1]p[j−1]p[j−1] 星号可以干掉 p[j−2]p[j−2]p[j−2]，继续考察 s(0,i−1)s(0,i-1)s(0,i−1) 和 p(0,j−3)p(0,j-3)p(0,j−3)。</p>
<p>base case<br>p 为空串，s 不为空串，肯定不匹配。<br>s 为空串，但 p 不为空串，要想匹配，只可能是右端是星号，它干掉一个字符后，把 p 变为空串。<br>s、p 都为空串，肯定匹配。</p>
<p>代码<br>没有降维，如果空间复杂度没有要求，这么写就行，比较好理解。</p>
<p>Js<br>const isMatch &#x3D; (s, p) &#x3D;&gt; {<br>  if (s &#x3D;&#x3D; null || p &#x3D;&#x3D; null) return false;</p>
<p>  const sLen &#x3D; s.length, pLen &#x3D; p.length;</p>
<p>  const dp &#x3D; new Array(sLen + 1);<br>  for (let i &#x3D; 0; i &lt; dp.length; i++) {<br>    dp[i] &#x3D; new Array(pLen + 1).fill(false); &#x2F;&#x2F; 将项默认为false<br>  }<br>  &#x2F;&#x2F; base case<br>  dp[0][0] &#x3D; true;<br>  for (let j &#x3D; 1; j &lt; pLen + 1; j++) {<br>    if (p[j - 1] &#x3D;&#x3D; “*”) dp[0][j] &#x3D; dp[0][j - 2];<br>  }<br>  &#x2F;&#x2F; 迭代<br>  for (let i &#x3D; 1; i &lt; sLen + 1; i++) {<br>    for (let j &#x3D; 1; j &lt; pLen + 1; j++) {</p>
<pre><code>  if (s[i - 1] == p[j - 1] || p[j - 1] == &quot;.&quot;) &#123;
    dp[i][j] = dp[i - 1][j - 1];
  &#125; else if (p[j - 1] == &quot;*&quot;) &#123;
    if (s[i - 1] == p[j - 2] || p[j - 2] == &quot;.&quot;) &#123;
      dp[i][j] = dp[i][j - 2] || dp[i - 1][j - 2] || dp[i - 1][j];
    &#125; else &#123;
      dp[i][j] = dp[i][j - 2];
    &#125;
  &#125;
&#125;
</code></pre>
<p>  }<br>  return dp[sLen][pLen]; &#x2F;&#x2F; 长sLen的s串 是否匹配 长pLen的p串<br>};</p>
<p>–11. 盛最多水的容器<br>中等</p>
<p>提示<br>给定一个长度为 n 的整数数组 height 。有 n 条垂线，第 i 条线的两个端点是 (i, 0) 和 (i, height[i]) 。</p>
<p>找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。</p>
<p>返回容器可以储存的最大水量。</p>
<p>说明：你不能倾斜容器。</p>
<p> </p>
<p>示例 1：</p>
<p>输入：[1,8,6,2,5,4,8,3,7]<br>输出：49<br>解释：图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。<br>示例 2：</p>
<p>输入：height &#x3D; [1,1]<br>输出：1
 </p>
<p>提示：</p>
<p>n &#x3D;&#x3D; height.length<br>2 &lt;&#x3D; n &lt;&#x3D; 105<br>0 &lt;&#x3D; height[i] &lt;&#x3D; 104</p>
<p>方法一：双指针<br>说明</p>
<p>本题是一道经典的面试题，最优的做法是使用「双指针」。如果读者第一次看到这题，不一定能想出双指针的做法。</p>
<p>分析</p>
<p>我们先从题目中的示例开始，一步一步地解释双指针算法的过程。稍后再给出算法正确性的证明。</p>
<p>题目中的示例为：</p>
<p>[1, 8, 6, 2, 5, 4, 8, 3, 7]<br> ^                       ^<br>在初始时，左右指针分别指向数组的左右两端，它们可以容纳的水量为 min⁡(1,7)∗8&#x3D;8\min(1, 7) * 8 &#x3D; 8min(1,7)∗8&#x3D;8。</p>
<p>此时我们需要移动一个指针。移动哪一个呢？直觉告诉我们，应该移动对应数字较小的那个指针（即此时的左指针）。这是因为，由于容纳的水量是由</p>
<p>两个指针指向的数字中较小值∗指针之间的距离两个指针指向的数字中较小值 * 指针之间的距离<br>两个指针指向的数字中较小值∗指针之间的距离<br>决定的。如果我们移动数字较大的那个指针，那么前者「两个指针指向的数字中较小值」不会增加，后者「指针之间的距离」会减小，那么这个乘积会减小。因此，我们移动数字较大的那个指针是不合理的。因此，我们移动 数字较小的那个指针。</p>
<p>有读者可能会产生疑问：我们可不可以同时移动两个指针？ 先别急，我们先假设 总是移动数字较小的那个指针 的思路是正确的，在走完流程之后，我们再去进行证明。</p>
<p>所以，我们将左指针向右移动：</p>
<p>[1, 8, 6, 2, 5, 4, 8, 3, 7]<br>    ^                    ^<br>此时可以容纳的水量为 min⁡(8,7)∗7&#x3D;49\min(8, 7) * 7 &#x3D; 49min(8,7)∗7&#x3D;49。由于右指针对应的数字较小，我们移动右指针：</p>
<p>[1, 8, 6, 2, 5, 4, 8, 3, 7]<br>    ^                 ^<br>此时可以容纳的水量为 min⁡(8,3)∗6&#x3D;18\min(8, 3) * 6 &#x3D; 18min(8,3)∗6&#x3D;18。由于右指针对应的数字较小，我们移动右指针：</p>
<p>[1, 8, 6, 2, 5, 4, 8, 3, 7]<br>    ^              ^<br>此时可以容纳的水量为 min⁡(8,8)∗5&#x3D;40\min(8, 8) * 5 &#x3D; 40min(8,8)∗5&#x3D;40。两指针对应的数字相同，我们可以任意移动一个，例如左指针：</p>
<p>[1, 8, 6, 2, 5, 4, 8, 3, 7]<br>       ^           ^<br>此时可以容纳的水量为 min⁡(6,8)∗4&#x3D;24\min(6, 8) * 4 &#x3D; 24min(6,8)∗4&#x3D;24。由于左指针对应的数字较小，我们移动左指针，并且可以发现，在这之后左指针对应的数字总是较小，因此我们会一直移动左指针，直到两个指针重合。在这期间，对应的可以容纳的水量为：min⁡(2,8)∗3&#x3D;6\min(2, 8) * 3 &#x3D; 6min(2,8)∗3&#x3D;6，min⁡(5,8)∗2&#x3D;10\min(5, 8) * 2 &#x3D; 10min(5,8)∗2&#x3D;10，min⁡(4,8)∗1&#x3D;4\min(4, 8) * 1 &#x3D; 4min(4,8)∗1&#x3D;4。</p>
<p>在我们移动指针的过程中，计算到的最多可以容纳的数量为 494949，即为最终的答案。</p>
<p>下面的动画也给出了这个示例的过程：</p>
<p>1 &#x2F; 8<br>证明</p>
<p>为什么双指针的做法是正确的？</p>
<p>双指针代表了什么？</p>
<p>双指针代表的是 可以作为容器边界的所有位置的范围。在一开始，双指针指向数组的左右边界，表示 数组中所有的位置都可以作为容器的边界，因为我们还没有进行过任何尝试。在这之后，我们每次将 对应的数字较小的那个指针 往 另一个指针 的方向移动一个位置，就表示我们认为 这个指针不可能再作为容器的边界了。</p>
<p>为什么对应的数字较小的那个指针不可能再作为容器的边界了？</p>
<p>在上面的分析部分，我们对这个问题有了一点初步的想法。这里我们定量地进行证明。</p>
<p>考虑第一步，假设当前左指针和右指针指向的数分别为 xxx 和 yyy，不失一般性，我们假设 x≤yx \leq yx≤y。同时，两个指针之间的距离为 ttt。那么，它们组成的容器的容量为：</p>
<p>min⁡(x,y)∗t&#x3D;x∗t\min(x, y) * t &#x3D; x * t<br>min(x,y)∗t&#x3D;x∗t<br>我们可以断定，如果我们保持左指针的位置不变，那么无论右指针在哪里，这个容器的容量都不会超过 x∗tx * tx∗t 了。注意这里右指针只能向左移动，因为 我们考虑的是第一步，也就是 指针还指向数组的左右边界的时候。</p>
<p>我们任意向左移动右指针，指向的数为 y1y_1y<br>1<br>​<br> ，两个指针之间的距离为 t1t_1t<br>1<br>​<br> ，那么显然有 t1&lt;tt_1 &lt; tt<br>1<br>​<br> &lt;t，并且 min⁡(x,y1)≤min⁡(x,y)\min(x, y_1) \leq \min(x, y)min(x,y<br>1<br>​<br> )≤min(x,y)：</p>
<p>如果 y1≤yy_1 \leq yy<br>1<br>​<br> ≤y，那么 min⁡(x,y1)≤min⁡(x,y)\min(x, y_1) \leq \min(x, y)min(x,y<br>1<br>​<br> )≤min(x,y)；</p>
<p>如果 y1&gt;yy_1 &gt; yy<br>1<br>​</p>
<blockquote>
<p>y，那么 min⁡(x,y1)&#x3D;x&#x3D;min⁡(x,y)\min(x, y_1) &#x3D; x &#x3D; \min(x, y)min(x,y<br>1<br>​<br> )&#x3D;x&#x3D;min(x,y)。</p>
</blockquote>
<p>因此有：</p>
<p>min⁡(x,yt)∗t1&lt;min⁡(x,y)∗t\min(x, y_t) * t_1 &lt; \min(x, y) * t<br>min(x,y<br>t<br>​<br> )∗t<br>1<br>​<br> &lt;min(x,y)∗t<br>即无论我们怎么移动右指针，得到的容器的容量都小于移动前容器的容量。也就是说，这个左指针对应的数不会作为容器的边界了，那么我们就可以丢弃这个位置，将左指针向右移动一个位置，此时新的左指针于原先的右指针之间的左右位置，才可能会作为容器的边界。</p>
<p>这样以来，我们将问题的规模减小了 111，被我们丢弃的那个位置就相当于消失了。此时的左右指针，就指向了一个新的、规模减少了的问题的数组的左右边界，因此，我们可以继续像之前 考虑第一步 那样考虑这个问题：</p>
<p>求出当前双指针对应的容器的容量；</p>
<p>对应数字较小的那个指针以后不可能作为容器的边界了，将其丢弃，并移动对应的指针。</p>
<p>最后的答案是什么？</p>
<p>答案就是我们每次以双指针为左右边界（也就是「数组」的左右边界）计算出的容量中的最大值。</p>
<p>var maxArea &#x3D; function(height) {<br>    let ans &#x3D; 0, left &#x3D; 0, right &#x3D; height.length - 1;<br>    while (left &lt; right) {<br>        const area &#x3D; (right - left) * Math.min(height[left], height[right]);<br>        ans &#x3D; Math.max(ans, area);<br>        if (height[left] &lt; height[right]) {<br>            left++;<br>        } else {<br>            right–;<br>        }<br>    }<br>    return ans;<br>};</p>
<ol start="12">
<li>整数转罗马数字<br>中等<br>相关标签<br>相关企业<br>罗马数字包含以下七种字符： I， V， X， L，C，D 和 M。</li>
</ol>
<p>字符          数值<br>I             1<br>V             5<br>X             10<br>L             50<br>C             100<br>D             500<br>M             1000<br>例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p>
<p>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。<br>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。 <br>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。<br>给你一个整数，将其转为罗马数字。</p>
<p> </p>
<p>示例 1:</p>
<p>输入: num &#x3D; 3<br>输出: “III”<br>示例 2:</p>
<p>输入: num &#x3D; 4<br>输出: “IV”<br>示例 3:</p>
<p>输入: num &#x3D; 9<br>输出: “IX”<br>示例 4:</p>
<p>输入: num &#x3D; 58<br>输出: “LVIII”<br>解释: L &#x3D; 50, V &#x3D; 5, III &#x3D; 3.<br>示例 5:</p>
<p>输入: num &#x3D; 1994<br>输出: “MCMXCIV”<br>解释: M &#x3D; 1000, CM &#x3D; 900, XC &#x3D; 90, IV &#x3D; 4.
 </p>
<p>提示：</p>
<p>1 &lt;&#x3D; num &lt;&#x3D; 3999</p>
<p>前言<br>罗马数字符号</p>
<p>罗马数字由 777 个不同的单字母符号组成，每个符号对应一个具体的数值。此外，减法规则（如问题描述中所述）给出了额外的 666 个复合符号。这给了我们总共 131313 个独特的符号（每个符号由 111 个或 222 个字母组成），如下图所示。</p>
<p>罗马数字的唯一表示法</p>
<p>让我们从一个例子入手。考虑 140140140 的罗马数字表示，下面哪一个是正确的？</p>
<p>我们用来确定罗马数字的规则是：对于罗马数字从左到右的每一位，选择尽可能大的符号值。对于 140140140，最大可以选择的符号值为 C&#x3D;100\texttt{C}&#x3D;100C&#x3D;100。接下来，对于剩余的数字 404040，最大可以选择的符号值为 XL&#x3D;40\texttt{XL}&#x3D;40XL&#x3D;40。因此，140140140 的对应的罗马数字为 C+XL&#x3D;CXL\texttt{C}+\texttt{XL}&#x3D;\texttt{CXL}C+XL&#x3D;CXL。</p>
<p>方法一：模拟<br>思路</p>
<p>根据罗马数字的唯一表示法，为了表示一个给定的整数 num\textit{num}num，我们寻找不超过 num\textit{num}num 的最大符号值，将 num\textit{num}num 减去该符号值，然后继续寻找不超过 num\textit{num}num 的最大符号值，将该符号拼接在上一个找到的符号之后，循环直至 num\textit{num}num 为 000。最后得到的字符串即为 num\textit{num}num 的罗马数字表示。</p>
<p>编程时，可以建立一个数值-符号对的列表 valueSymbols\textit{valueSymbols}valueSymbols，按数值从大到小排列。遍历 valueSymbols\textit{valueSymbols}valueSymbols 中的每个数值-符号对，若当前数值 value\textit{value}value 不超过 num\textit{num}num，则从 num\textit{num}num 中不断减去 value\textit{value}value，直至 num\textit{num}num 小于 value\textit{value}value，然后遍历下一个数值-符号对。若遍历中 num\textit{num}num 为 000 则跳出循环。</p>
<p>代码</p>
<p>C++<br>Java<br>C#<br>Golang<br>JavaScript<br>Python3<br>C<br>var intToRoman &#x3D; function(num) {<br>    const valueSymbols &#x3D; [[1000, “M”], [900, “CM”], [500, “D”], [400, “CD”], [100, “C”], [90, “XC”], [50, “L”], [40, “XL”], [10, “X”], [9, “IX”], [5, “V”], [4, “IV”], [1, “I”]];<br>    const roman &#x3D; [];<br>    for (const [value, symbol] of valueSymbols) {<br>        while (num &gt;&#x3D; value) {<br>            num -&#x3D; value;<br>            roman.push(symbol);<br>        }<br>        if (num &#x3D;&#x3D; 0) {<br>            break;<br>        }<br>    }<br>    return roman.join(‘’);<br>};<br>复杂度分析</p>
<p>时间复杂度：O(1)O(1)O(1)。由于 valueSymbols\textit{valueSymbols}valueSymbols 长度是固定的，且这 131313 字符中的每个字符的出现次数均不会超过 333，因此循环次数有一个确定的上限。对于本题给出的数据范围，循环次数不会超过 151515 次。</p>
<p>空间复杂度：O(1)O(1)O(1)。</p>
<p>方法二：硬编码数字<br>思路</p>
<p>回顾前言中列出的这 131313 个符号，可以发现：</p>
<p>千位数字只能由 M\texttt{M}M 表示；<br>百位数字只能由 C\texttt{C}C，CD\texttt{CD}CD，D\texttt{D}D 和 CM\texttt{CM}CM 表示；<br>十位数字只能由 X\texttt{X}X，XL\texttt{XL}XL，L\texttt{L}L 和 XC\texttt{XC}XC 表示；<br>个位数字只能由 I\texttt{I}I，IV\texttt{IV}IV，V\texttt{V}V 和 IX\texttt{IX}IX 表示。<br>这恰好把这 131313 个符号分为四组，且组与组之间没有公共的符号。因此，整数 num\textit{num}num 的十进制表示中的每一个数字都是可以单独处理的。</p>
<p>进一步地，我们可以计算出每个数字在每个位上的表示形式，整理成一张硬编码表。如下图所示，其中 000 对应的是空字符串。</p>
<p>利用模运算和除法运算，我们可以得到 num\textit{num}num 每个位上的数字：</p>
<p>thousands_digit &#x3D; num &#x2F; 1000<br>hundreds_digit &#x3D; (num % 1000) &#x2F; 100<br>tens_digit &#x3D; (num % 100) &#x2F; 10<br>ones_digit &#x3D; num % 10<br>最后，根据 num\textit{num}num 每个位上的数字，在硬编码表中查找对应的罗马字符，并将结果拼接在一起，即为 num\textit{num}num 对应的罗马数字。</p>
<p>代码</p>
<p>C++<br>Java<br>C#<br>Golang<br>JavaScript<br>Python3<br>C<br>var intToRoman &#x3D; function(num) {<br>    const thousands &#x3D; [“”, “M”, “MM”, “MMM”];<br>    const hundreds &#x3D; [“”, “C”, “CC”, “CCC”, “CD”, “D”, “DC”, “DCC”, “DCCC”, “CM”];<br>    const tens     &#x3D; [“”, “X”, “XX”, “XXX”, “XL”, “L”, “LX”, “LXX”, “LXXX”, “XC”];<br>    const ones     &#x3D; [“”, “I”, “II”, “III”, “IV”, “V”, “VI”, “VII”, “VIII”, “IX”];</p>
<pre><code>const roman = [];
roman.push(thousands[Math.floor(num / 1000)]);
roman.push(hundreds[Math.floor(num % 1000 / 100)]);
roman.push(tens[Math.floor(num % 100 / 10)]);
roman.push(ones[num % 10]);
return roman.join(&#39;&#39;);
</code></pre>
<p>};<br>复杂度分析</p>
<p>时间复杂度：O(1)O(1)O(1)。计算量与输入数字的大小无关。</p>
<p>空间复杂度：O(1)O(1)O(1)。</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/01/21/Eight/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/01/21/Eight/&text=Eight"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/01/21/Eight/&is_video=false&description=Eight"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Eight&body=Check out this article: http://example.com/2024/01/21/Eight/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/01/21/Eight/&title=Eight"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/01/21/Eight/&name=Eight&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/01/21/Eight/&t=Eight"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
